A=21;
H=0.11;
Density = 0.1458; 
Ans_Moment=[];
b = sqrt(H./3)
lenth =[];
for B = 0.1:0.1:6
    lenth(end+1) = 2*sqrt(H/B);
    Y_MAX = sqrt(H./B);
    X_MAX = sqrt(H./A);

    Y3 = 0;                     %3号肋骨y的最大值
    Y4 = Y_MAX ./ 3;            %4号肋骨y的最大值   
    Y5 = Y_MAX.*2 ./ 3;         %5号肋骨y的最大值
    Y=[-Y5 -Y4 Y3 Y4 Y5];

    Z_center_gravity = rib_Center_Gravity_Z(H , Density ,A ,B ,Y);%求出五块肋骨的重心在z轴的坐标 返回数组

    M = rib_Panel_quality(H , Density ,A ,B ,Y);                  %求出五块肋骨重量 返回数组

    Z_center_gravity(end+1) = keel_Center_Gravity(Y_MAX , Density , H,B);            %求出龙骨面板的重心

    M(end+1)= keel_Panel_quality(Y_MAX , Density , H,B);                    %求出龙骨面板的质量

    %添加桅杆的重心及质量
    Z_center_gravity(end+1) = B.*0.043.^2+0.04+0.25+0.015;
    M(end+1) = 0.106;
    %添加重物的重心及质量
    Z_center_gravity(end+1) =B.*0.043.^2+0.02+0.015;
    M(end+1) = 0.8481;

    center_gravity = boat_Center_Gravity(Z_center_gravity,M);
    M = sum(M);


    % %-----135求吃水线的c---------------------------------------------------------------------------------------------
    c = find_135_waterline(A,B,H,X_MAX,M,135);
    %%-------135吃水线---end----------------------------------------------------------------------------------------

    %------浮心------------------------------------------------------------------------------------------------------------------
                COB = find_COB(A,B,H,X_MAX,c,135);
    %------重心----------------------------------------------------------------------------------------------------------------------
                COM = [0 0 center_gravity];
    %-------复原力矩---------------------------------------------------------------------------------------------------------------------
                P = -135./180.*pi;
                g = 9.8;
                F = [2.*g.*M.*sin(P) 0 2.*g.*M.*cos(P)];                            %力部分初始化
                Moment = cross(COB - COM,F);
                Ans_Moment(end+1) = Moment(2);
end

title('长与复原力矩的关系图');
xlabel('长 m');
ylabel('复原力矩');
hold on

plot(lenth,Ans_Moment);